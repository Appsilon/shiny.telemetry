<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Telemetry class to manage analytics gathering at a global level — Telemetry • shiny.telemetry</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Telemetry class to manage analytics gathering at a global level — Telemetry"><meta name="description" content="An instance of this class will define metadata and data storage provider
for gathering telemetry analytics of a Shiny dashboard.
The name and version parameters will describe the dashboard name and
version to track using analytics, allowing to store the analytics data from
multiple dashboards in the same data storage provider. As well as
discriminate different versions of the dashboard.
The default data storage provider uses a local SQLite database, but this
can be customizable when instantiating the class, by using another one of
the supported providers (see DataStorage)."><meta property="og:description" content="An instance of this class will define metadata and data storage provider
for gathering telemetry analytics of a Shiny dashboard.
The name and version parameters will describe the dashboard name and
version to track using analytics, allowing to store the analytics data from
multiple dashboards in the same data storage provider. As well as
discriminate different versions of the dashboard.
The default data storage provider uses a local SQLite database, but this
can be customizable when instantiating the class, by using another one of
the supported providers (see DataStorage)."><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-D33PHDKY5M"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-D33PHDKY5M');
</script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQQZL5V93G"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FQQZL5V93G');
</script><script async defer src="https://buttons.github.io/buttons.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shiny.telemetry</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    <a href="https://rhinoverse.dev" class="external-link home"><i class="fa fa-lg fa-chevron-left"></i></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book-reader"></span> How-to Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to-guides"><li><a class="dropdown-item" href="../articles/rhino.html">Setup shiny.telemetry in a Rhino application</a></li>
    <li><a class="dropdown-item" href="../articles/tracking-specific-input-id.html">Track a Subset of Inputs to Improve Performance</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Data Storage backends</h6></li>
    <li><a class="dropdown-item" href="../articles/databases.html">Use External Databases with shiny.telemetry</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Appsilon/shiny.telemetry"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/Appsilon"><span class="fa fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://fosstodon.org/@appsilon"><span class="fa fab fa-mastodon fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Telemetry class to manage analytics gathering at a global level</h1>
      <small class="dont-index">Source: <a href="https://github.com/Appsilon/shiny.telemetry/blob/main/R/telemetry.R" class="external-link"><code>R/telemetry.R</code></a></small>
      <div class="d-none name"><code>Telemetry.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An instance of this class will define metadata and data storage provider
for gathering telemetry analytics of a Shiny dashboard.</p>
<p>The <code>name</code> and <code>version</code> parameters will describe the dashboard name and
version to track using analytics, allowing to store the analytics data from
multiple dashboards in the same data storage provider. As well as
discriminate different versions of the dashboard.</p>
<p>The default data storage provider uses a local SQLite database, but this
can be customizable when instantiating the class, by using another one of
the supported providers (see <code><a href="DataStorage.html">DataStorage</a></code>).</p>
    </div>


    <div class="section level2">
    <h2 id="debugging">Debugging<a class="anchor" aria-label="anchor" href="#debugging"></a></h2>



<p>Events are logged at the <code>DEBUG</code> level using the <code>logger</code> package.
To see the logs, you can set:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu">logger</span><span class="fu">::</span><span class="fu"><a href="https://daroczig.github.io/logger/reference/log_threshold.html" class="external-link">log_threshold</a></span><span class="op">(</span><span class="st">"DEBUG"</span>, namespace <span class="op">=</span> <span class="st">"shiny.telemetry"</span><span class="op">)</span></span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="DataStorage.html">DataStorage</a></code> which this function wraps.</p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>data_storage</code></dt>
<dd><p>instance of a class that inherits from
<code><a href="DataStorage.html">DataStorage</a></code>. See the documentation on that class for more information.</p></dd>


<dt><code>app_name</code></dt>
<dd><p>string with name of dashboard</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-Telemetry-new"><code>Telemetry$new()</code></a></p></li>
<li><p><a href="#method-Telemetry-start_session"><code>Telemetry$start_session()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_navigation"><code>Telemetry$log_navigation()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_navigation_manual"><code>Telemetry$log_navigation_manual()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_login"><code>Telemetry$log_login()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_logout"><code>Telemetry$log_logout()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_click"><code>Telemetry$log_click()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_browser_version"><code>Telemetry$log_browser_version()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_button"><code>Telemetry$log_button()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_all_inputs"><code>Telemetry$log_all_inputs()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_input"><code>Telemetry$log_input()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_input_manual"><code>Telemetry$log_input_manual()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_custom_event"><code>Telemetry$log_custom_event()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_error"><code>Telemetry$log_error()</code></a></p></li>
<li><p><a href="#method-Telemetry-log_errors"><code>Telemetry$log_errors()</code></a></p></li>
<li><p><a href="#method-Telemetry-clone"><code>Telemetry$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-Telemetry-new"></a><div class="section">
<h3 id="method-new-">Method <code><a href="https://rdrr.io/r/methods/new.html" class="external-link">new()</a></code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Constructor that initializes Telemetry instance with parameters.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Telemetry.html">Telemetry</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  app_name <span class="op">=</span> <span class="st">"(dashboard)"</span>,</span>
<span>  data_storage <span class="op">=</span> <span class="va"><a href="../reference/DataStorageSQLite.html">DataStorageSQLite</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>db_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"telemetry.sqlite"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>app_name</code></dt>
<dd><p>(optional) string that identifies the name of the dashboard.
By default it will store data with <code>(dashboard)</code>.</p></dd>


<dt><code>data_storage</code></dt>
<dd><p>(optional) <code>DataStorage</code> instance where telemetry
data is being stored.
It can take any of data storage providers by this package,
By default it will store in a SQLite local database in the current
working directory with filename <code>telemetry.sqlite</code></p></dd>


<dt><code>version</code></dt>
<dd><p>(optional) string that identifies the version of the
dashboard. By default it will use <code>v0.0.0</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Telemetry-start_session"></a><div class="section">
<h3 id="method-start-session-">Method <code>start_session()</code><a class="anchor" aria-label="anchor" href="#method-start-session-"></a></h3>
<p>Setup basic telemetry</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">start_session</span><span class="op">(</span></span>
<span>  track_inputs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  track_values <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  login <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  logout <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  browser_version <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  navigation_input_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  username <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  track_anonymous_user <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  track_errors <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>track_inputs</code></dt>
<dd><p>flag that indicates if the basic telemetry should
track the inputs that change value. <code>TRUE</code> by default</p></dd>


<dt><code>track_values</code></dt>
<dd><p>flag that indicates if the basic telemetry should
track the values of the inputs that are changing. <code>FALSE</code> by default.
This parameter is ignored if <code>track_inputs</code> is <code>FALSE</code></p></dd>


<dt><code>login</code></dt>
<dd><p>flag that indicates if the basic telemetry should
track when a session starts. <code>TRUE</code> by default.</p></dd>


<dt><code>logout</code></dt>
<dd><p>flag that indicates if the basic telemetry should
track when the session ends. <code>TRUE</code> by default.</p></dd>


<dt><code>browser_version</code></dt>
<dd><p>flag that indicates that the browser version
should be tracked.<code>TRUE</code> by default.</p></dd>


<dt><code>navigation_input_id</code></dt>
<dd><p>string or vector of strings that represent
input ids and which value should be tracked as navigation events. i.e.
a change in the value represent a navigation to a page or tab.
By default, no navigation is tracked.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


<dt><code>username</code></dt>
<dd><p>Character with username. If set, it will overwrite username
from session object.</p></dd>


<dt><code>track_anonymous_user</code></dt>
<dd><p>flag that indicates to track anonymous user.
A cookie is used to track same user without login over multiple sessions,
This is only activated if none of the automatic methods produce a username
and when a username is not explicitly defined.<code>TRUE</code> by default.</p></dd>


<dt><code>track_errors</code></dt>
<dd><p>flag that indicates if the basic telemetry should
track the errors. <code>TRUE</code> by default. if using shiny version &lt; <code>1.8.1</code>,
it can auto log errors only in UI output functions.
By using latest versions of shiny, it can auto log all types of errors.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_navigation"></a><div class="section">
<h3 id="method-log-navigation-">Method <code>log_navigation()</code><a class="anchor" aria-label="anchor" href="#method-log-navigation-"></a></h3>
<p>Log an input change as a navigation event</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_navigation</span><span class="op">(</span><span class="va">input_id</span>, session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>input_id</code></dt>
<dd><p>string that identifies the generic input in the Shiny
application so that the function can track and log changes to it.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_navigation_manual"></a><div class="section">
<h3 id="method-log-navigation-manual-">Method <code>log_navigation_manual()</code><a class="anchor" aria-label="anchor" href="#method-log-navigation-manual-"></a></h3>
<p>Log a navigation event manually by indicating the id (as input id)</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_navigation_manual</span><span class="op">(</span></span>
<span>  <span class="va">navigation_id</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>navigation_id</code></dt>
<dd><p>string that identifies navigation event.</p></dd>


<dt><code>value</code></dt>
<dd><p>string that indicates a value for the navigation</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_login"></a><div class="section">
<h3 id="method-log-login-">Method <code>log_login()</code><a class="anchor" aria-label="anchor" href="#method-log-login-"></a></h3>
<p>Log when session starts</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_login</span><span class="op">(</span></span>
<span>  username <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>username</code></dt>
<dd><p>string with username from current session</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_logout"></a><div class="section">
<h3 id="method-log-logout-">Method <code>log_logout()</code><a class="anchor" aria-label="anchor" href="#method-log-logout-"></a></h3>
<p>Log when session ends</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_logout</span><span class="op">(</span></span>
<span>  username <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>username</code></dt>
<dd><p>string with username from current session</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_click"></a><div class="section">
<h3 id="method-log-click-">Method <code>log_click()</code><a class="anchor" aria-label="anchor" href="#method-log-click-"></a></h3>
<p>Log an action click</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_click</span><span class="op">(</span><span class="va">id</span>, session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>string that identifies a manual click to the dashboard.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_browser_version"></a><div class="section">
<h3 id="method-log-browser-version-">Method <code>log_browser_version()</code><a class="anchor" aria-label="anchor" href="#method-log-browser-version-"></a></h3>
<p>Log the browser version</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_browser_version</span><span class="op">(</span>session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_button"></a><div class="section">
<h3 id="method-log-button-">Method <code>log_button()</code><a class="anchor" aria-label="anchor" href="#method-log-button-"></a></h3>
<p>Track a button and track changes to this input (without storing the
values)</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_button</span><span class="op">(</span></span>
<span>  <span class="va">input_id</span>,</span>
<span>  track_value <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>input_id</code></dt>
<dd><p>string that identifies the button in the Shiny
application so that the function can track and log changes to it.</p></dd>


<dt><code>track_value</code></dt>
<dd><p>flag that indicates if the basic telemetry should
track the value of the input that are changing. <code>FALSE</code> by default.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_all_inputs"></a><div class="section">
<h3 id="method-log-all-inputs-">Method <code>log_all_inputs()</code><a class="anchor" aria-label="anchor" href="#method-log-all-inputs-"></a></h3>
<p>Automatic tracking of all input changes in the App. Depending on the
parameters, it may only track a subset of inputs by excluding patterns
or by including specific vector of <code>input_ids</code>.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_all_inputs</span><span class="op">(</span></span>
<span>  track_values <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  excluded_inputs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"browser_version"</span><span class="op">)</span>,</span>
<span>  excluded_inputs_regex <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_input_ids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>track_values</code></dt>
<dd><p>flag that indicates if the basic telemetry should
track the values of the inputs that are changing. <code>FALSE</code> by default.
This parameter is ignored if <code>track_inputs</code> is <code>FALSE</code>.</p></dd>


<dt><code>excluded_inputs</code></dt>
<dd><p>vector of input_ids that should not be tracked.
By default it doesn't track browser version, which is added by this
package.</p></dd>


<dt><code>excluded_inputs_regex</code></dt>
<dd><p>vector of input_ids that should not be
tracked. All Special characters will be escaped.</p></dd>


<dt><code>include_input_ids</code></dt>
<dd><p>vector of input_ids that will be tracked.
This input_ids should be an exact match and will be given priority
over exclude list.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_input"></a><div class="section">
<h3 id="method-log-input-">Method <code>log_input()</code><a class="anchor" aria-label="anchor" href="#method-log-input-"></a></h3>
<p>Track changes of a specific input id.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_input</span><span class="op">(</span></span>
<span>  <span class="va">input_id</span>,</span>
<span>  track_value <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  matching_values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  input_type <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>input_id</code></dt>
<dd><p>string (or vector of strings) that identifies the
generic input in the Shiny application so that the function can track and
log changes to it.</p>
<p>When the <code>input_id</code> is a vector of strings, the function will behave just
as calling <code>log_input</code> one by one with the same arguments.</p></dd>


<dt><code>track_value</code></dt>
<dd><p>flag that indicates if the basic telemetry should
track the value of the input that are changing. <code>FALSE</code> by default.</p></dd>


<dt><code>matching_values</code></dt>
<dd><p>An object specified possible values to register.</p></dd>


<dt><code>input_type</code></dt>
<dd><p><code>"text"</code> to registered bare input value, <code>"json"</code> to parse
value from <code>JSON</code> format.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>Nothing. This method is called for its side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_input_manual"></a><div class="section">
<h3 id="method-log-input-manual-">Method <code>log_input_manual()</code><a class="anchor" aria-label="anchor" href="#method-log-input-manual-"></a></h3>
<p>Log a manual input value.</p>
<p>This can be called in telemetry and is also used as a layer between
log_input family of functions and actual log event.
It creates the correct payload to log the event internally.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_input_manual</span><span class="op">(</span></span>
<span>  <span class="va">input_id</span>,</span>
<span>  value <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>input_id</code></dt>
<dd><p>string that identifies the generic input in the Shiny
application so that the function can track and log changes to it.</p></dd>


<dt><code>value</code></dt>
<dd><p>(optional) scalar value or list with the value to register.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_custom_event"></a><div class="section">
<h3 id="method-log-custom-event-">Method <code>log_custom_event()</code><a class="anchor" aria-label="anchor" href="#method-log-custom-event-"></a></h3>
<p>Log a manual event</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_custom_event</span><span class="op">(</span></span>
<span>  <span class="va">event_type</span>,</span>
<span>  details <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>event_type</code></dt>
<dd><p>string that identifies the event type</p></dd>


<dt><code>details</code></dt>
<dd><p>(optional) scalar value or list with the value to register.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current
Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_error"></a><div class="section">
<h3 id="method-log-error-">Method <code>log_error()</code><a class="anchor" aria-label="anchor" href="#method-log-error-"></a></h3>
<p>Log a manual error event</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_error</span><span class="op">(</span></span>
<span>  <span class="va">output_id</span>,</span>
<span>  <span class="va">message</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>output_id</code></dt>
<dd><p>string that refers to the output element where the error occurred.</p></dd>


<dt><code>message</code></dt>
<dd><p>string that describes the error.</p></dd>


<dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-12">Returns<a class="anchor" aria-label="anchor" href="#returns-12"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-log_errors"></a><div class="section">
<h3 id="method-log-errors-">Method <code>log_errors()</code><a class="anchor" aria-label="anchor" href="#method-log-errors-"></a></h3>
<p>Track errors as they occur in observe and reactive</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">log_errors</span><span class="op">(</span>session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>session</code></dt>
<dd><p><code>ShinySession</code> object or NULL to identify the current Shiny session.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-13">Returns<a class="anchor" aria-label="anchor" href="#returns-13"></a></h4>
<p>Nothing. This method is called for side effects.</p>
</div>

</div><p></p><hr><a id="method-Telemetry-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Telemetry</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-15">Arguments<a class="anchor" aria-label="anchor" href="#arguments-15"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">log_file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">telemetry</span> <span class="op">&lt;-</span> <span class="va">Telemetry</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data_storage <span class="op">=</span> <span class="va"><a href="DataStorageLogFile.html">DataStorageLogFile</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>log_file_path <span class="op">=</span> <span class="va">log_file_path</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="co"># 1. Initialize telemetry with default options</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Use in a shiny application</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    ui <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="use_telemetry.html">use_telemetry</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># 2. Add necessary javascript to Shiny</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/numericInput.html" class="external-link">numericInput</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"n"</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html" class="external-link">plotOutput</a></span><span class="op">(</span><span class="st">'plot'</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="va">telemetry</span><span class="op">$</span><span class="fu">start_session</span><span class="op">(</span><span class="op">)</span> <span class="co"># 3. Minimal setup to track events</span></span></span>
<span class="r-in"><span>      <span class="va">output</span><span class="op">$</span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html" class="external-link">renderPlot</a></span><span class="op">(</span><span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Manual logging of Telemetry that can be used inside Shiny Application</span></span></span>
<span class="r-in"><span><span class="co"># to further customize the events to be tracked.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">session</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/shiny/man/MockShinySession.html" class="external-link">MockShinySession</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span> <span class="co"># Create dummy session (only for example purposes)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">session</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">session</span><span class="op">)</span>, <span class="st">"ShinySession"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">telemetry</span><span class="op">$</span><span class="fu">log_click</span><span class="op">(</span><span class="st">"a_button"</span>, session <span class="op">=</span> <span class="va">session</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">telemetry</span><span class="op">$</span><span class="fu">log_error</span><span class="op">(</span><span class="st">"global"</span>, message <span class="op">=</span> <span class="st">"An error has occured"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">telemetry</span><span class="op">$</span><span class="fu">log_custom_event</span><span class="op">(</span><span class="st">"a_button"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span>, session <span class="op">=</span> <span class="va">session</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">telemetry</span><span class="op">$</span><span class="fu">log_custom_event</span><span class="op">(</span><span class="st">"a_button"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>custom_field <span class="op">=</span> <span class="fl">23</span><span class="op">)</span>, session <span class="op">=</span> <span class="va">session</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Manual call login with custom username</span></span></span>
<span class="r-in"><span><span class="va">telemetry</span><span class="op">$</span><span class="fu">log_login</span><span class="op">(</span><span class="st">"ben"</span>, session <span class="op">=</span> <span class="va">session</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read all data</span></span></span>
<span class="r-in"><span><span class="va">telemetry</span><span class="op">$</span><span class="va">data_storage</span><span class="op">$</span><span class="fu">read_event_data</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   app_name    type   session id    output_id message value custom_field username</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> (dashboard) click  7b253c… a_bu… <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>           <span style="color: #BB0000;">NA</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> (dashboard) error  <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>    global    An err… <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>           <span style="color: #BB0000;">NA</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> (dashboard) a_but… 7b253c… <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>      2023  <span style="color: #BB0000;">NA</span>           <span style="color: #BB0000;">NA</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> (dashboard) a_but… 7b253c… <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>    23           <span style="color: #BB0000;">NA</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> (dashboard) login  7b253c… <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>           ben     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: time &lt;dttm&gt;, date &lt;date&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="va">log_file_path</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Using SQLite</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">db_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".sqlite"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">telemetry_sqlite</span> <span class="op">&lt;-</span> <span class="va">Telemetry</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data_storage <span class="op">=</span> <span class="va"><a href="DataStorageSQLite.html">DataStorageSQLite</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>db_path <span class="op">=</span> <span class="va">db_path</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">telemetry_sqlite</span><span class="op">$</span><span class="fu">log_custom_event</span><span class="op">(</span><span class="st">"a_button"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span>, session <span class="op">=</span> <span class="va">session</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">telemetry_sqlite</span><span class="op">$</span><span class="fu">log_custom_event</span><span class="op">(</span><span class="st">"a_button"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>custom_field <span class="op">=</span> <span class="fl">23</span><span class="op">)</span>, session <span class="op">=</span> <span class="va">session</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read all data from time range</span></span></span>
<span class="r-in"><span><span class="va">telemetry_sqlite</span><span class="op">$</span><span class="va">data_storage</span><span class="op">$</span><span class="fu">read_event_data</span><span class="op">(</span><span class="st">"2020-01-01"</span>, <span class="st">"2055-01-01"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   time                app_name session type  value custom_field date       id   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 2024-10-09 <span style="color: #949494;">14:11:01</span> (dashbo… 7b253c… a_bu… 2023  <span style="color: #BB0000;">NA</span>           2024-10-09 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 2024-10-09 <span style="color: #949494;">14:11:01</span> (dashbo… 7b253c… a_bu… <span style="color: #BB0000;">NA</span>    23           2024-10-09 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: username &lt;chr&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="va">db_path</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed with <span class="emoji" data-emoji="heart">❤️</span> by <a href="https://www.appsilon.com" class="external-link">Appsilon</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

