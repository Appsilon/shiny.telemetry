<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Shiny App Usage Telemetry • shiny.telemetry</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Shiny App Usage Telemetry">
<meta name="description" content="Enables instrumentation of Shiny apps for tracking user session events such as input changes, browser type, and session duration. These events can be sent to any of the available storage backends and analyzed using the included Shiny app to gain insights about app usage and adoption.">
<meta property="og:description" content="Enables instrumentation of Shiny apps for tracking user session events such as input changes, browser type, and session duration. These events can be sent to any of the available storage backends and analyzed using the included Shiny app to gain insights about app usage and adoption.">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-D33PHDKY5M"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-D33PHDKY5M');
</script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQQZL5V93G"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FQQZL5V93G');
</script><script async defer src="https://buttons.github.io/buttons.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">shiny.telemetry</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>

    <a href="https://www.appsilon.com/rhinoverse" class="external-link home"><i class="fa fa-lg fa-chevron-left"></i></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book-reader"></span> How-to Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to-guides">
<li><a class="dropdown-item" href="articles/rhino.html">Setup shiny.telemetry in a Rhino application</a></li>
    <li><a class="dropdown-item" href="articles/tracking-specific-input-id.html">Track a Subset of Inputs to Improve Performance</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Data Storage backends</h6></li>
    <li><a class="dropdown-item" href="articles/databases.html">Use External Databases with shiny.telemetry</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/index.html"><span class="fa fa-file-code-o"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html"><span class="fa fa-newspaper-o"></span> Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Appsilon/shiny.telemetry"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/Appsilon"><span class="fa fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://fosstodon.org/@appsilon"><span class="fa fab fa-mastodon fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="shinytelemetry-">shiny.telemetry <a href="https://appsilon.github.io/shiny.telemetry/"><img src="reference/figures/shiny-telemetry.png" alt="shiny.telemetry logo" style="float: right; height: 140px;"></a>
<a class="anchor" aria-label="anchor" href="#shinytelemetry-"></a>
</h1></div>
<blockquote>
<p>Easy logging of users activity and session events of your Shiny App</p>
</blockquote>
<p><a href="https://cran.r-project.org/package=shiny.telemetry" class="external-link"><img src="https://www.r-pkg.org/badges/version/shiny.telemetry" alt="CRAN"></a> <a href="https://github.com/Appsilon/shiny.telemetry/actions/workflows/main.yml" class="external-link"><img src="https://github.com/Appsilon/shiny.telemetry/actions/workflows/main.yml/badge.svg" alt="R CMD check"></a> <a href="https://CRAN.R-project.org/package=shiny.telemetry" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/shiny.telemetry" alt="downloads monthly"></a> <a href="https://CRAN.R-project.org/package=shiny.telemetry" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/shiny.telemetry" alt="downloads total"></a> <a href="https://opensource.org/license/lgpl-3-0" class="external-link"><img src="https://img.shields.io/badge/License-LGPL--3.0-blue.svg" alt="License: LGPL-3.0"></a></p>
<p>The <code>shiny.telemetry</code> R package tracks events occurring on a user session, such as input changes and session duration, and stores them in a local or remote database.</p>
<p>It provides developers with the tools to help understand how users interact with Shiny dashboards and answer questions such as: which tabs/pages are more often visited, which inputs users are changing, what is the average length of a session, etc.</p>
<div class="section level2">
<h2 id="install">Install<a class="anchor" aria-label="anchor" href="#install"></a>
</h2>
<p>The <code>shiny.telemetry</code> package can be installed from GitHub by using the remotes package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Appsilon/shiny.telemetry"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>With <code>dependencies = TRUE</code> the suggested packages (required to run some examples) will be installed in addition to mandatory dependencies.</p>
</div>
<div class="section level2">
<h2 id="how-to-use-in-a-shiny-dashboard">How to use in a Shiny Dashboard?<a class="anchor" aria-label="anchor" href="#how-to-use-in-a-shiny-dashboard"></a>
</h2>
<p><code>shiny.telemetry</code> allows for a minimal setup with only 3 commands that can track some information about the session:</p>
<ul>
<li>When session starts and ends</li>
<li>The browser version used by the client</li>
<li>Changes in the inputs <em>(doesn’t track values by default)</em>
</li>
</ul>
<p>The code below runs a minimal example of a Shiny application that uses <code>shiny.telemetry</code>. The package will keep track of the session information and all changes to the <code>numericInput</code>.</p>
<p><em>Note</em>: When using the dashboard nothing is happening from the user’s perspective as all operation run in the background <em>(either in the server or in Javascript)</em>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/shiny.telemetry/">shiny.telemetry</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">telemetry</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/Telemetry.html">Telemetry</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span> <span class="co"># 1. Initialize telemetry with default options</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span></span>
<span>  ui <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="reference/use_telemetry.html">use_telemetry</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># 2. Add necessary javascript to Shiny</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/numericInput.html" class="external-link">numericInput</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"n"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html" class="external-link">plotOutput</a></span><span class="op">(</span><span class="st">'plot'</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">telemetry</span><span class="op">$</span><span class="fu">start_session</span><span class="op">(</span><span class="op">)</span> <span class="co"># 3. Minimal setup to track events</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html" class="external-link">renderPlot</a></span><span class="op">(</span><span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>When inspecting the code above, we can breakdown the 3 lines of code by:</p>
<ol style="list-style-type: decimal">
<li>Global <code>Telemetry</code> object that is used across the different sessions</li>
<li>Add necessary Javascript to the UI by calling <code><a href="reference/use_telemetry.html">use_telemetry()</a></code>. It is used to track browser version.</li>
<li>Initialize the session-specific tracking by calling method <code>start_session()</code> of the <code>Telemetry</code> object.</li>
</ol>
</div>
<div class="section level2">
<h2 id="how-to-access-the-data">How to access the data?<a class="anchor" aria-label="anchor" href="#how-to-access-the-data"></a>
</h2>
<p>The developers and administrators of the dashboard can access the data that is gathered by <code>shiny.telemetry</code> via a Telemetry object or directly from <code>DataStorage</code> via the appropriate provider.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># After running the instrumented app</span></span>
<span><span class="fu">shiny.telemetry</span><span class="fu">::</span><span class="va"><a href="reference/Telemetry.html">Telemetry</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">data_storage</span><span class="op">$</span><span class="fu">read_event_data</span><span class="op">(</span><span class="st">"2020-01-01"</span>, <span class="st">"2050-01-01"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default provider and path for Telemetry$new()</span></span>
<span><span class="fu">shiny.telemetry</span><span class="fu">::</span><span class="va"><a href="reference/DataStorageSQLite.html">DataStorageSQLite</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>db_path <span class="op">=</span> <span class="st">"telemetry.sqlite"</span><span class="op">)</span><span class="op">$</span><span class="fu">read_event_data</span><span class="op">(</span><span class="st">"2020-01-01"</span>, <span class="st">"2050-01-01"</span><span class="op">)</span></span></code></pre></div>
<p>The package includes an analytics dashboard to view the data. It is located at <code>inst/examples/app/analytics</code> and it should be modified so that it references the correct <code>DataStorage</code> provider and configuration.</p>
</div>
<div class="section level2">
<h2 id="data-providers">Data providers<a class="anchor" aria-label="anchor" href="#data-providers"></a>
</h2>
<p>There are 3 different types of data providers that can range from local filesystem storage to a remote Plumber REST API instance.</p>
<ul>
<li>Local file:
<ul>
<li>SQLite using <code>DataStorageSQLite</code> class</li>
<li>Plain text file using <code>DataStorageLogFile</code> class</li>
</ul>
</li>
<li>Remote SQL database:
<ul>
<li>MariaDB using <code>DataStorageMariaDB</code> class</li>
<li>PostgreSQL using <code>DataStoragePostgreSQL</code> class</li>
<li>MS SQL Server using <code>DataStorageMSSQLServer</code> class</li>
</ul>
</li>
<li>Plumber REST API using <code>DataStoragePlumber</code> class
<ul>
<li>In turn, the Plumber data provider will use one of the other classes above as the method of data storage.</li>
</ul>
</li>
</ul>
<p>The setup for plumber requires a valid Plumber instance running on the network and the communication can be protected. See Plumber deployment documentation for more information.</p>
</div>
<div class="section level2">
<h2 id="debugging-the-telemetry-calls">Debugging the Telemetry calls<a class="anchor" aria-label="anchor" href="#debugging-the-telemetry-calls"></a>
</h2>
<p>The package uses the <code>logger</code> package internally with the <code>shiny.telemetry</code> namespace. To debug the <code>shiny.telemetry</code> calls in the dashboard, change the threshold of this namespace to <code>DEBUG</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">logger</span><span class="fu">::</span><span class="fu"><a href="https://daroczig.github.io/logger/reference/log_threshold.html" class="external-link">log_threshold</a></span><span class="op">(</span><span class="st">"DEBUG"</span>, namespace <span class="op">=</span> <span class="st">"shiny.telemetry"</span><span class="op">)</span></span></code></pre></div>
<p><em>note</em>: This command can be run before the Shiny call or by adding it to the <code>.Rprofile</code>.</p>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>See <a href="https://appsilon.github.io/shiny.telemetry/CONTRIBUTING.html">CONTRIBUTING</a>.</p>
</div>
<div class="section level2">
<h2 id="appsilon">Appsilon<a class="anchor" aria-label="anchor" href="#appsilon"></a>
</h2>
<p><img src="https://avatars0.githubusercontent.com/u/6096772" align="right" alt="" width="6%"></p>
<p>Appsilon is a <strong>Posit (formerly RStudio) Full Service Certified Partner</strong>.<br> Learn more at <a href="https://www.appsilon.com" class="external-link">appsilon.com</a>.</p>
<p>Get in touch <a href="mailto:opensource@appsilon.com">opensource@appsilon.com</a></p>
<p>Explore the <a href="https://www.appsilon.com/rhinoverse" class="external-link">Rhinoverse</a> - a family of R packages built around <a href="https://appsilon.github.io/rhino/" class="external-link">Rhino</a>!</p>
<p><a href="https://www.appsilon.com/careers" target="_blank" class="external-link"><img src="https://raw.githubusercontent.com/Appsilon/website-cdn/gh-pages/WeAreHiring1.png" alt="We are hiring!"></a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="github">
<h2 data-toc-skip>GitHub</h2>
<ul class="list-unstyled">
<li><p><a class="external-link github-button" href="https://github.com/appsilon/shiny.telemetry" data-size="large" data-show-count="true" aria-label="Star appsilon/shiny.telemetry on GitHub">Star</a></p></li>
</ul>
</div>

<div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=shiny.telemetry" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/Appsilon/shiny.telemetry/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Appsilon/shiny.telemetry/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/LGPL-3" class="external-link">LGPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing shiny.telemetry</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>André Veríssimo <br><small class="roles"> Author, maintainer </small>  </li>
<li>Kamil Żyła <br><small class="roles"> Author </small>  </li>
<li>Krystian Igras <br><small class="roles"> Author </small>  </li>
<li>Recle Vibal <br><small class="roles"> Author </small>  </li>
<li>Arun Kodati <br><small class="roles"> Author </small>  </li>
<li>Wahaduzzaman Khan <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed with <span class="emoji" data-emoji="heart">❤️</span> by <a href="https://www.appsilon.com" class="external-link">Appsilon</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
